<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Solitaire</title>
    <link rel="stylesheet" href="css/gameLayout.css">
<!--    <script src="js/test.js"></script>-->
    <script src="js/constants.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/game.js"></script>
    <script>

        window.addEventListener('load', () => {
            function formatNum(num) {
                return num < 10 ? '0' + num : num;
            }
            $sol.ui.setStage(document.getElementById('backstage'));
            $sol.ui.setSlots({
                slotKreuz: document.getElementById('slotKreuz'),
                slotPik: document.getElementById('slotPik'),
                slotHerz: document.getElementById('slotHerz'),
                slotKaro: document.getElementById('slotKaro'),
                closedHeap: document.getElementById('closedHeap'),
                openHeap: document.getElementById('openHeap')
            });
            $sol.game.init((nums) => {
                document.getElementById('counterTile').innerHTML = formatNum(nums[0]) + ' | ' + formatNum(nums[1]);
                document.getElementById('cashTile').innerHTML = nums[2] + '$';
            });
        });

        function confirmNewGame() {
            if(confirm('Sure a new game?')) {
                $sol.game.newGame();
            }
        }

        function back() {
            alert('not yet implemented');
        }
    </script>
</head>
<body>
<div>
    <div id="backstage">
        <div class="tile slot" id="slotKreuz"></div>
        <div class="tile slot" id="slotPik"></div>
        <div class="tile slot" id="slotHerz"></div>
        <div class="tile slot" id="slotKaro"></div>

        <div class="tile card heap" id="closedHeap"></div>
        <div class="tile card heap" id="openHeap"></div>

        <div class="tile adminWrapper">
            <button id="nextGame" class="tile addButton" onclick="confirmNewGame();">New Game</button>
            <div class="tile counterTile" id="counterTile"></div>
            <div class="tile counterTile" id="cashTile"></div>
            <button id="back" class="tile addButton" onclick="back();">Back</button>
        </div>

    </div>
</div>

</body>
</html>